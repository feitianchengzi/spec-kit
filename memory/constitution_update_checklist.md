# 章程更新检查清单

在修订章程（`/memory/constitution.md`）时，确保所有相关文档都已更新以保持一致性。

## 需要更新的模板

### 添加/修改任何条款时：
- [ ] `/templates/plan-template.md` - 更新章程检查部分
- [ ] `/templates/spec-template.md` - 如果需求/范围受影响则更新
- [ ] `/templates/tasks-template.md` - 如果需要新任务类型则更新
- [ ] `/.claude/commands/plan.md` - 如果规划流程变更则更新
- [ ] `/.claude/commands/tasks.md` - 如果任务生成受影响则更新
- [ ] `/CLAUDE.md` - 更新运行时开发指南

### 条款特定更新：

#### 条款 I（库优先）：
- [ ] 确保模板强调库创建
- [ ] 更新 CLI 命令示例
- [ ] 添加 llms.txt 文档要求

#### 条款 II（CLI 接口）：
- [ ] 更新模板中的 CLI 标志要求
- [ ] 添加文本 I/O 协议提醒

#### 条款 III（测试优先）：
- [ ] 更新所有模板中的测试顺序
- [ ] 强调 TDD 要求
- [ ] 添加测试批准门控

#### 条款 IV（集成测试）：
- [ ] 列出集成测试触发条件
- [ ] 更新测试类型优先级
- [ ] 添加真实依赖要求

#### 条款 V（可观测性）：
- [ ] 向模板添加日志要求
- [ ] 包含多层日志流
- [ ] 更新性能监控部分

#### 条款 VI（版本控制）：
- [ ] 添加版本增量提醒
- [ ] 包含破坏性变更程序
- [ ] 更新迁移要求

#### 条款 VII（简洁性）：
- [ ] 更新项目数量限制
- [ ] 添加模式禁止示例
- [ ] 包含 YAGNI 提醒

## 验证步骤

1. **提交章程更改前：**
   - [ ] 所有模板都引用了新要求
   - [ ] 示例已更新以匹配新规则
   - [ ] 文档间无矛盾

2. **更新模板后：**
   - [ ] 运行示例实现计划
   - [ ] 验证所有章程要求都已解决
   - [ ] 检查模板是否自包含（无需章程即可阅读）

3. **版本跟踪：**
   - [ ] 更新章程版本号
   - [ ] 在模板页脚中注明版本
   - [ ] 将修订添加到章程历史

## 常见遗漏

注意这些经常被遗忘的更新：
- 命令文档（`/commands/*.md`）
- 模板中的检查清单项目
- 示例代码/命令
- 领域特定变化（web vs mobile vs CLI）
- 文档间的交叉引用

## 模板同步状态

最后同步检查：2025-07-16
- 章程版本：2.1.1
- 模板对齐：❌（缺少版本控制、可观测性详情）

---

*此检查清单确保章程原则在所有项目文档中一致应用。*