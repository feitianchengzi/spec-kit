# AI Agent 开发命令详解

## 概述

本文档从使用角度详细介绍 SpecKit 的 AI Agent 开发命令，包括设计目的、使用场景、具体作用和最佳实践。这些命令是规范驱动开发流程的核心工具。

## AI Agent 命令概览

SpecKit 提供了一套完整的 AI Agent 命令体系，支持从规范创建到代码实现的完整开发流程：

| 命令 | 设计目的 | 使用场景 | 核心作用 |
|------|----------|----------|----------|
| `/constitution` | 项目宪法 | 项目治理 | 建立项目开发规范和原则 |
| `/specify` | 详细规范制定 | 需求分析阶段 | 生成完整的产品需求文档 |
| `/clarify` | 需求澄清 | 需求不明确时 | 澄清模糊需求和技术细节 |
| `/plan` | 制定开发计划 | 项目规划阶段 | 结构化项目目标和里程碑 |
| `/tasks` | 任务分解 | 开发准备阶段 | 将规范分解为具体任务 |
| `/analyze` | 代码分析 | 代码审查阶段 | 分析代码质量和规范符合性 |
| `/implement` | 代码实现 | 开发实施阶段 | 基于规范生成代码 |

## 详细命令说明

### 1. `/constitution` - 项目宪法

#### 设计目的
建立项目开发的核心原则和治理规范，为所有后续开发提供指导框架。

#### 使用场景
- 项目启动时建立开发规范
- 团队协作时统一开发标准
- 项目治理和质量控制

#### 具体作用
- 定义项目开发原则和价值观
- 建立代码质量和架构标准
- 设置团队协作规范
- 创建项目治理框架

#### 使用示例

```
/constitution 创建专注于代码质量、测试标准、用户体验一致性和性能要求的原则
```

#### 最佳实践
- 在项目开始前就使用 `/constitution` 建立开发规范
- 根据项目特点制定合适的开发原则
- 定期回顾和更新宪法内容

### 2. `/specify` - 功能规范制定

#### 设计目的
将模糊的项目想法转化为结构化的功能规范，明确功能需求、用户场景和验收标准。

#### 使用场景
- 项目启动时的需求分析
- 功能需求的详细定义
- 用户故事的编写
- 验收标准的制定

#### 具体作用
- 定义功能需求和用户场景
- 编写用户故事和验收标准
- 识别功能边界和约束
- 建立功能规范文档

#### 使用示例

```
/specify 构建一个用户认证系统，包含用户注册、登录、密码重置功能，支持邮箱验证和 JWT 令牌
```

#### 最佳实践
- 详细描述功能需求，避免模糊表述
- 包含具体的用户场景和验收标准
- 考虑边界条件和异常情况

### 3. `/clarify` - 需求澄清

#### 设计目的
澄清功能规范中的模糊或不明确的部分，确保开发团队对需求有统一的理解。

#### 使用场景
- 需求描述不够清晰时
- 技术实现方案不明确时
- 团队对需求理解有分歧时
- 复杂功能需要进一步细化时

#### 具体作用
- 识别需求中的模糊点
- 提出澄清问题
- 记录澄清结果
- 更新功能规范

#### 使用示例

```
/clarify 用户认证系统的密码复杂度要求是什么？是否需要支持第三方登录？
```

#### 最佳实践
- 在制定计划前先进行需求澄清
- 针对关键功能点进行深入澄清
- 记录所有澄清结果

### 4. `/plan` - 技术实现计划

#### 设计目的
基于功能规范制定详细的技术实现计划，包括技术选型、架构设计和开发步骤。

#### 使用场景
- 功能规范确定后的技术规划
- 技术选型和架构设计
- 开发任务的分解和排序
- 技术风险评估和应对

#### 具体作用
- 制定技术实现方案
- 选择合适的技术栈
- 设计系统架构
- 制定开发计划

#### 使用示例

```
/plan 使用 Python 3.11, FastAPI, PostgreSQL, JWT, 邮箱服务集成
```

#### 最佳实践
- 基于功能需求选择合适的技术栈
- 考虑系统的可扩展性和维护性
- 制定详细的开发步骤

### 5. `/tasks` - 任务分解

#### 设计目的
将技术实现计划分解为具体的、可执行的任务，为开发实施提供详细的指导。

#### 使用场景
- 开发实施前的任务规划
- 团队协作的任务分配
- 开发进度的跟踪和管理
- 任务依赖关系的梳理

#### 具体作用
- 将计划分解为具体任务
- 确定任务优先级和依赖关系
- 分配任务给团队成员
- 跟踪任务执行进度

#### 使用示例

```
/tasks
```

#### 最佳实践
- 按照 TDD 原则安排任务顺序
- 标记可以并行执行的任务
- 明确任务之间的依赖关系

### 6. `/analyze` - 代码分析

#### 设计目的
分析代码质量、规范符合性和一致性，确保代码符合项目标准。

#### 使用场景
- 代码审查和质量检查
- 规范符合性验证
- 代码一致性分析
- 潜在问题的识别

#### 具体作用
- 检查代码质量
- 验证规范符合性
- 分析代码一致性
- 识别潜在问题

#### 使用示例

```
/analyze
```

#### 最佳实践
- 在代码实现后及时进行分析
- 关注代码质量和规范符合性
- 及时修复发现的问题

### 7. `/implement` - 代码实现

#### 设计目的
基于功能规范和技术计划，生成高质量的代码实现。

#### 使用场景
- 功能代码的实现
- 测试代码的编写
- 配置文件的生成
- 文档的自动生成

#### 具体作用
- 生成功能代码
- 编写测试用例
- 创建配置文件
- 生成技术文档

#### 使用示例

```
/implement
```

#### 最佳实践
- 按照任务列表顺序执行
- 确保代码质量和测试覆盖
- 遵循项目开发规范

## 命令使用流程

### 标准开发流程

1. **项目启动**: `/constitution` → 建立开发规范
2. **需求分析**: `/specify` → 定义功能需求
3. **需求澄清**: `/clarify` → 澄清模糊需求
4. **技术规划**: `/plan` → 制定技术方案
5. **任务分解**: `/tasks` → 分解开发任务
6. **代码实现**: `/implement` → 实现功能代码
7. **代码分析**: `/analyze` → 分析代码质量

### 快速开发流程

1. **需求定义**: `/specify` → 定义功能需求
2. **技术规划**: `/plan` → 制定技术方案
3. **任务执行**: `/tasks` → 分解任务
4. **代码实现**: `/implement` → 实现功能

## 常见问题

### Q: 什么时候使用 `/clarify` 命令？
A: 当功能需求描述不够清晰，或者对技术实现方案有疑问时使用。

### Q: `/plan` 和 `/tasks` 有什么区别？
A: `/plan` 制定技术实现方案，`/tasks` 将方案分解为具体任务。

### Q: 可以跳过某些命令吗？
A: 可以，但建议按照标准流程使用，以确保开发质量。

### Q: 如何确保代码质量？
A: 使用 `/analyze` 命令定期分析代码质量，及时修复问题。

## 最佳实践总结

1. **按顺序使用命令**: 遵循标准开发流程，确保每个阶段都得到充分处理
2. **详细描述需求**: 在 `/specify` 中提供详细的功能描述
3. **及时澄清**: 遇到模糊需求时及时使用 `/clarify`
4. **合理规划**: 在 `/plan` 中选择合适的技术栈和架构
5. **任务分解**: 在 `/tasks` 中合理分解任务，明确依赖关系
6. **质量检查**: 使用 `/analyze` 确保代码质量
7. **持续改进**: 根据项目经验不断优化开发流程

---

**下一步学习**: 
- [AI Agent 命令原理](./speckit-commands-principles.md) - 了解命令背后的工作机制
- [实际项目开发流程指南](./practical-workflow-guide.md) - 实战应用示例